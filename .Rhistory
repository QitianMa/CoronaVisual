pal <- colorNumeric("OrRd", usa$count)
usa
unique(data$country)
usa <- data %>%
filter(country=='United States') %>%
group_by(city, province, longitude, latitude) %>%
summarise(count = n()) %>%
arrange(desc(count))
pal <- colorNumeric("OrRd", usa$count)
usa %>%
leaflet() %>%
addTiles(group = 'OpenRailwayMap') %>%
addProviderTiles('HERE', group = 'terrainDay') %>%
addProviderTiles("HikeBike", group = "HikeBike") %>%
addCircleMarkers(~longitude, ~latitude) %>%
addLayersControl(baseGroup=c('OpenRailwayMap', "terrainDay", 'HikeBike'),
overlayGroups=unique(usa$province))
usa %>%
leaflet() %>%
addTiles(group = 'OpenRailwayMap') %>%
addProviderTiles('HERE', group = 'terrainDay') %>%
addProviderTiles("HikeBike", group = "HikeBike") %>%
addCircleMarkers(~longitude, ~latitude, color=~pal(count)) %>%
addLayersControl(baseGroup=c('OpenRailwayMap', "terrainDay", 'HikeBike'),
overlayGroups=unique(usa$province))
pal <- colorNumeric("OrRd", usa$count)
usa %>%
leaflet() %>%
addTiles(group = 'OpenRailwayMap') %>%
addProviderTiles('HERE', group = 'terrainDay') %>%
addProviderTiles("HikeBike", group = "HikeBike") %>%
addCircleMarkers(~longitude, ~latitude, color=~pal(count)) %>%
addLayersControl(baseGroup=c('OpenRailwayMap', "terrainDay", 'HikeBike'),
overlayGroups=unique(usa$province))
~pal(count)
pal(count)
pal <- colorNumeric("OrRd", usa$count)
pal(count)
uds
usa
pal(usa$count)
usa %>%
leaflet() %>%
addTiles(group = 'OpenRailwayMap') %>%
addProviderTiles('HERE', group = 'terrainDay') %>%
addProviderTiles("HikeBike", group = "HikeBike") %>%
addCircleMarkers(~longitude, ~latitude, color=~province %>%
addLayersControl(baseGroup=c('OpenRailwayMap', "terrainDay", 'HikeBike'),
overlayGroups=unique(usa$province))
usa %>%
leaflet() %>%
addTiles(group = 'OpenRailwayMap') %>%
addProviderTiles('HERE', group = 'terrainDay') %>%
addProviderTiles("HikeBike", group = "HikeBike") %>%
addCircleMarkers(~longitude, ~latitude, color=~province) %>%
addLayersControl(baseGroup=c('OpenRailwayMap', "terrainDay", 'HikeBike'),
overlayGroups=unique(usa$province))
usa
pal <- colorNumeric(
palette = "Blues",
domain = usa$count)
usa %>%
leaflet() %>%
addTiles(group = 'OpenRailwayMap') %>%
addProviderTiles('HERE', group = 'terrainDay') %>%
addProviderTiles("HikeBike", group = "HikeBike") %>%
addCircleMarkers(~longitude, ~latitude, color=~pal(count)) %>%
addLayersControl(baseGroup=c('OpenRailwayMap', "terrainDay", 'HikeBike'),
overlayGroups=unique(usa$province))
pal(usa$count)
usa$count
pal <- colorNumeric(
palette = "PiYG",
domain = usa$count)
usa %>%
leaflet() %>%
addTiles(group = 'OpenRailwayMap') %>%
addProviderTiles('HERE', group = 'terrainDay') %>%
addProviderTiles("HikeBike", group = "HikeBike") %>%
addCircleMarkers(~longitude, ~latitude,
radius = 2,
group = "circles",
# popup = ~paste0(city, "<br/>",
#                 count),
label = ~paste0(city, "(", province, ")"),
color = ~pal(count)) %>%
# addLayersControl(baseGroups = c('OpenRailwayMap', "terrainDay", 'HikeBike'),
#                  overlayGroups = c("California", "Nevada") )%>%
setView(lng = -119, lat = 36.2,
zoom = 5.5)
ggsave("StateCompare.html")
usa %>%
leaflet() %>%
addTiles(group = 'OpenRailwayMap') %>%
addProviderTiles('HERE', group = 'terrainDay') %>%
addProviderTiles("HikeBike", group = "HikeBike") %>%
addCircleMarkers(~longitude, ~latitude, color=~pal(count)) %>%
addLayersControl(baseGroup=c('OpenRailwayMap', "terrainDay", 'HikeBike'),
overlayGroups=unique(usa$province))
pal <- colorNumeric(
palette = "PiYG",
domain = usa$count)
usa %>%
leaflet() %>%
addTiles(group = 'OpenRailwayMap') %>%
addProviderTiles('HERE', group = 'terrainDay') %>%
addProviderTiles("HikeBike", group = "HikeBike") %>%
addCircleMarkers(~longitude, ~latitude, color=~pal(log(count))) %>%
addLayersControl(baseGroup=c('OpenRailwayMap', "terrainDay", 'HikeBike'),
overlayGroups=unique(usa$province))
usa %>%
leaflet() %>%
addTiles(group = 'OpenRailwayMap') %>%
addProviderTiles('HERE', group = 'terrainDay') %>%
addProviderTiles("HikeBike", group = "HikeBike") %>%
addCircleMarkers(~longitude, ~latitude, color=~province) %>%
addLayersControl(baseGroup=c('OpenRailwayMap', "terrainDay", 'HikeBike'),
overlayGroups=unique(usa$province))
usa
usa %>%
leaflet() %>%
addTiles(group = 'OpenRailwayMap') %>%
addProviderTiles('HERE', group = 'terrainDay') %>%
addProviderTiles("HikeBike", group = "HikeBike") %>%
addCircleMarkers(~longitude, ~latitude, color=~province) %>%
addLayersControl(baseGroup=c('OpenRailwayMap', "terrainDay", 'HikeBike'),
overlayGroups=unique(usa$province))
rainbow(usa$province)
library(wesanderson)
wes_palettes(usa$province)
wes_palette()
wes_palette
wes_palette(Royal1)
wes_palette("Royal1")
wes_palette("Royal1", 51)
wes_palette("Royal1", 20)
rainbow(52)
rainbow(usa$province)
pal <- colorNumeric(
palette = "rainbow",
domain = usa$count)
usa %>%
leaflet() %>%
addTiles(group = 'OpenRailwayMap') %>%
addProviderTiles('HERE', group = 'terrainDay') %>%
addProviderTiles("HikeBike", group = "HikeBike") %>%
addCircleMarkers(~longitude, ~latitude, color=~pal(province)) %>%
addLayersControl(baseGroup=c('OpenRailwayMap', "terrainDay", 'HikeBike'),
overlayGroups=unique(usa$province))
pal(usa$province)
pal <- colorNumeric(
palette = "rainbow",
domain = usa$province)
pal <- colorDiscrete(
palette = "rainbow",
domain = usa$province)
pal <- colorFactor(
palette = "rainbow",
domain = usa$province)
usa %>%
leaflet() %>%
addTiles(group = 'OpenRailwayMap') %>%
addProviderTiles('HERE', group = 'terrainDay') %>%
addProviderTiles("HikeBike", group = "HikeBike") %>%
addCircleMarkers(~longitude, ~latitude, color=~pal(province)) %>%
addLayersControl(baseGroup=c('OpenRailwayMap', "terrainDay", 'HikeBike'),
overlayGroups=unique(usa$province))
pal
pal(usa$province)
class(usa$province)
as.fcator(usa$province)
as.factor(usa$province)
pal <- colorFactor(
palette = "rainbow",
domain = as.factor(usa$province))
usa %>%
leaflet() %>%
addTiles(group = 'OpenRailwayMap') %>%
addProviderTiles('HERE', group = 'terrainDay') %>%
addProviderTiles("HikeBike", group = "HikeBike") %>%
addCircleMarkers(~longitude, ~latitude, color=~pal(as.factor(province)) )%>%
addLayersControl(baseGroup=c('OpenRailwayMap', "terrainDay", 'HikeBike'),
overlayGroups=unique(usa$province))
pal(as.factor(usa$province))
pal <- colorFactor(
palette = "RdYlBu",
domain = as.factor(usa$province))
usa %>%
leaflet() %>%
addTiles(group = 'OpenRailwayMap') %>%
addProviderTiles('HERE', group = 'terrainDay') %>%
addProviderTiles("HikeBike", group = "HikeBike") %>%
addCircleMarkers(~longitude, ~latitude, color=~pal(as.factor(province)) )%>%
addLayersControl(baseGroup=c('OpenRailwayMap', "terrainDay", 'HikeBike'),
overlayGroups=unique(usa$province))
mycorlor <- colorRampPalette(pal(11))(30)
mycorlor <- colorRampPalette(brwer.pal(11, "RdYlBu"))(32)
mycorlor <- colorRampPalette(brewer.pal(11, "RdYlBu"))(32)
library(RColorBrewer)
mycorlor <- colorRampPalette(brewer.pal(11, "RdYlBu"))(32)
usa %>%
leaflet() %>%
addTiles(group = 'OpenRailwayMap') %>%
addProviderTiles('HERE', group = 'terrainDay') %>%
addProviderTiles("HikeBike", group = "HikeBike") %>%
addCircleMarkers(~longitude, ~latitude,
radius = 2,
group = "circles",
# popup = ~paste0(city, "<br/>",
#                 count),
label = ~paste0(city, "(", province, ")"),
color = ~mycolor(count)) %>%
# addLayersControl(baseGroups = c('OpenRailwayMap', "terrainDay", 'HikeBike'),
#                  overlayGroups = c("California", "Nevada") )%>%
setView(lng = -119, lat = 36.2,
zoom = 5.5)
usa %>%
leaflet() %>%
addTiles(group = 'OpenRailwayMap') %>%
addProviderTiles('HERE', group = 'terrainDay') %>%
addProviderTiles("HikeBike", group = "HikeBike") %>%
addCircleMarkers(~longitude, ~latitude, color=~pal(as.factor(province)) )%>%
addLayersControl(baseGroup=c('OpenRailwayMap', "terrainDay", 'HikeBike'),
overlayGroups=unique(usa$province))
usa %>%
leaflet() %>%
addTiles(group = 'OpenRailwayMap') %>%
addProviderTiles('HERE', group = 'terrainDay') %>%
addProviderTiles("HikeBike", group = "HikeBike") %>%
addCircleMarkers(~longitude, ~latitude, color=~mycolor(as.factor(province)) )%>%
addLayersControl(baseGroup=c('OpenRailwayMap', "terrainDay", 'HikeBike'),
overlayGroups=unique(usa$province))
mycolor
mycolor(3)
mycolor(4)
mycolor
leaflet() %>%
addTiles(group = 'OpenRailwayMap') %>%
addProviderTiles('HERE', group = 'terrainDay') %>%
addProviderTiles("HikeBike", group = "HikeBike") %>%
addCircleMarkers(~longitude, ~latitude,
radius = 2,
group = "circles",
# popup = ~paste0(city, "<br/>",
#                 count),
label = ~paste0(city, "(", province, ")"),
color = mycolor %>%
# addLayersControl(baseGroups = c('OpenRailwayMap', "terrainDay", 'HikeBike'),
#                  overlayGroups = c("California", "Nevada") )%>%
setView(lng = -119, lat = 36.2,
zoom = 5.5)
leaflet() %>%
addTiles(group = 'OpenRailwayMap') %>%
addProviderTiles('HERE', group = 'terrainDay') %>%
addProviderTiles("HikeBike", group = "HikeBike") %>%
addCircleMarkers(~longitude, ~latitude,
radius = 2,
group = "circles",
# popup = ~paste0(city, "<br/>",
#                 count),
label = ~paste0(city, "(", province, ")"),
color = mycolor) %>%
# addLayersControl(baseGroups = c('OpenRailwayMap', "terrainDay", 'HikeBike'),
#                  overlayGroups = c("California", "Nevada") )%>%
setView(lng = -119, lat = 36.2,
zoom = 5.5)
usa %>%
leaflet() %>%
addTiles(group = 'OpenRailwayMap') %>%
addProviderTiles('HERE', group = 'terrainDay') %>%
addProviderTiles("HikeBike", group = "HikeBike") %>%
addCircleMarkers(~longitude, ~latitude, color=~mycolor(as.factor(province)) )%>%
addLayersControl(baseGroup=c('OpenRailwayMap', "terrainDay", 'HikeBike'),
overlayGroups=unique(usa$province))
pal <- colorFactor(
palette = "RdYlBu",
domain = as.factor(usa$province))
usa %>%
leaflet() %>%
addTiles(group = 'OpenRailwayMap') %>%
addProviderTiles('HERE', group = 'terrainDay') %>%
addProviderTiles("HikeBike", group = "HikeBike") %>%
addCircleMarkers(~longitude, ~latitude, color=~pal(province)) )%>%
addLayersControl(baseGroup=c('OpenRailwayMap', "terrainDay", 'HikeBike'),
overlayGroups=unique(usa$province))
pal <- colorFactor(
palette = "RdYlBu",
domain = as.factor(usa$province))
usa %>%
leaflet() %>%
addTiles(group = 'OpenRailwayMap') %>%
addProviderTiles('HERE', group = 'terrainDay') %>%
addProviderTiles("HikeBike", group = "HikeBike") %>%
addCircleMarkers(~longitude, ~latitude,
radius = 2,
group = "circles",
# popup = ~paste0(city, "<br/>",
#                 count),
label = ~paste0(city, "(", province, ")"),
color =  %>%
# addLayersControl(baseGroups = c('OpenRailwayMap', "terrainDay", 'HikeBike'),
#                  overlayGroups = c("California", "Nevada") )%>%
setView(lng = -119, lat = 36.2,
zoom = 5.5)
ggsave("StateCompare.html")
usa %>%
leaflet() %>%
addTiles(group = 'OpenRailwayMap') %>%
addProviderTiles('HERE', group = 'terrainDay') %>%
addProviderTiles("HikeBike", group = "HikeBike") %>%
addCircleMarkers(~longitude, ~latitude, color=~pal(province)) )%>%
addLayersControl(baseGroup=c('OpenRailwayMap', "terrainDay", 'HikeBike'),
overlayGroups=unique(usa$province))
usa %>%
leaflet() %>%
addTiles(group = 'OpenRailwayMap') %>%
addProviderTiles('HERE', group = 'terrainDay') %>%
addProviderTiles("HikeBike", group = "HikeBike") %>%
addCircleMarkers(~longitude, ~latitude, color=~pal(as.factor(province)) )%>%
addLayersControl(baseGroup=c('OpenRailwayMap', "terrainDay", 'HikeBike'),
overlayGroups=unique(usa$province))
pal <- colorFactor(
palette = "glasbey",
domain = as.factor(usa$province))
usa %>%
leaflet() %>%
addTiles(group = 'OpenRailwayMap') %>%
addProviderTiles('HERE', group = 'terrainDay') %>%
addProviderTiles("HikeBike", group = "HikeBike") %>%
addCircleMarkers(~longitude, ~latitude, color=~pal(as.factor(province)) )%>%
addLayersControl(baseGroup=c('OpenRailwayMap', "terrainDay", 'HikeBike'),
overlayGroups=unique(usa$province))
usa %>%
leaflet() %>%
addTiles(group = 'OpenRailwayMap') %>%
addProviderTiles('HERE', group = 'terrainDay') %>%
addProviderTiles("HikeBike", group = "HikeBike") %>%
addCircleMarkers(~longitude, ~latitude, color=~pal(as.factor(province)) )%>%
addLayersControl(baseGroup=c('OpenRailwayMap', "terrainDay", 'HikeBike'),
overlayGroups=unique(usa$province))
glasbey
pal <- colorFactor(
palette = "glas3bey",
domain = as.factor(usa$province))
library(pals)
pal.bands(alphabet, alphabet2, cols25, glasbey, kelly, polychrome,
stepped, tol, watlington,
show.names=FALSE)
iinstall.packages(pals)
iinstall.packages("pals")
install.packages("pals")
library(pals)
pal.bands(alphabet, alphabet2, cols25, glasbey, kelly, polychrome,
stepped, tol, watlington,
show.names=FALSE)
pal <- colorFactor(
palette = "glasbey",
domain = as.factor(usa$province))
usa %>%
leaflet() %>%
addTiles(group = 'OpenRailwayMap') %>%
addProviderTiles('HERE', group = 'terrainDay') %>%
addProviderTiles("HikeBike", group = "HikeBike") %>%
addCircleMarkers(~longitude, ~latitude, color=~pal(as.factor(province)) )%>%
addLayersControl(baseGroup=c('OpenRailwayMap', "terrainDay", 'HikeBike'),
overlayGroups=unique(usa$province))
pal <- colorFactor(
palette = "glasbey",
domain = as.factor(usa$province))
coolwarm(199)
coolwarm(usa$province)
pal <- colorFactor(
palette = coolwarm(100),
domain = as.factor(usa$province))
usa %>%
leaflet() %>%
addTiles(group = 'OpenRailwayMap') %>%
addProviderTiles('HERE', group = 'terrainDay') %>%
addProviderTiles("HikeBike", group = "HikeBike") %>%
addCircleMarkers(~longitude, ~latitude, color=~pal(as.factor(province)) )%>%
addLayersControl(baseGroup=c('OpenRailwayMap', "terrainDay", 'HikeBike'),
overlayGroups=unique(usa$province))
pal <- colorFactor(
palette = alphabet(30)
domain = as.factor(usa$province))
pal <- colorFactor(
palette = alphabet(30),
domain = as.factor(usa$province))
pal <- colorFactor(
palette = alphabet(26),
domain = as.factor(usa$province))
usa %>%
leaflet() %>%
addTiles(group = 'OpenRailwayMap') %>%
addProviderTiles('HERE', group = 'terrainDay') %>%
addProviderTiles("HikeBike", group = "HikeBike") %>%
addCircleMarkers(~longitude, ~latitude, color=~pal(as.factor(province)) )%>%
addLayersControl(baseGroup=c('OpenRailwayMap', "terrainDay", 'HikeBike'),
overlayGroups=unique(usa$province))
usa %>%
leaflet() %>%
addTiles(group = 'OpenRailwayMap') %>%
addProviderTiles('HERE', group = 'terrainDay') %>%
addProviderTiles("HikeBike", group = "HikeBike") %>%
addCircleMarkers(~longitude, ~latitude, color=~pal(as.factor(province)) )%>%
addLayersControl(baseGroup=c('OpenRailwayMap', "terrainDay", 'HikeBike'),
overlayGroups=unique(usa$province)) %>%
setView(lng = -119, lat = 36.2,
zoom = 5.5)
usa %>%
leaflet() %>%
addTiles(group = 'OpenRailwayMap') %>%
addProviderTiles('HERE', group = 'terrainDay') %>%
addProviderTiles("HikeBike", group = "HikeBike") %>%
addCircleMarkers(~longitude, ~latitude, color=~pal(as.factor(province)), radius=1)%>%
addLayersControl(baseGroup=c('OpenRailwayMap', "terrainDay", 'HikeBike'),
overlayGroups=unique(usa$province)) %>%
setView(lng =100, lat = 36.2,
zoom = 5.5)
usa %>%
leaflet() %>%
addTiles(group = 'OpenRailwayMap') %>%
addProviderTiles('HERE', group = 'terrainDay') %>%
addProviderTiles("HikeBike", group = "HikeBike") %>%
addCircleMarkers(~longitude, ~latitude, color=~pal(as.factor(province)), radius=1)%>%
addLayersControl(baseGroup=c('OpenRailwayMap', "terrainDay", 'HikeBike'),
overlayGroups=unique(usa$province)) %>%
setView(lng =-200, lat = 36.2,
zoom = 5.5)
usa %>%
leaflet() %>%
addTiles(group = 'OpenRailwayMap') %>%
addProviderTiles('HERE', group = 'terrainDay') %>%
addProviderTiles("HikeBike", group = "HikeBike") %>%
addCircleMarkers(~longitude, ~latitude, color=~pal(as.factor(province)), radius=1)%>%
addLayersControl(baseGroup=c('OpenRailwayMap', "terrainDay", 'HikeBike'),
overlayGroups=unique(usa$province)) %>%
setView(lng =-150, lat = 36.2,
zoom = 5.5)
usa %>%
leaflet() %>%
addTiles(group = 'OpenRailwayMap') %>%
addProviderTiles('HERE', group = 'terrainDay') %>%
addProviderTiles("HikeBike", group = "HikeBike") %>%
addCircleMarkers(~longitude, ~latitude, color=~pal(as.factor(province)), radius=1)%>%
addLayersControl(baseGroup=c('OpenRailwayMap', "terrainDay", 'HikeBike'),
overlayGroups=unique(usa$province)) %>%
setView(lng =-60, lat = 36.2,
zoom = 5.5)
usa %>%
leaflet() %>%
addTiles(group = 'OpenRailwayMap') %>%
addProviderTiles('HERE', group = 'terrainDay') %>%
addProviderTiles("HikeBike", group = "HikeBike") %>%
addCircleMarkers(~longitude, ~latitude, color=~pal(as.factor(province)), radius=1)%>%
addLayersControl(baseGroup=c('OpenRailwayMap', "terrainDay", 'HikeBike'),
overlayGroups=unique(usa$province)) %>%
setView(lng =-85, lat = 36.2,
zoom = 5.5)
usa %>%
leaflet() %>%
addTiles(group = 'OpenRailwayMap') %>%
addProviderTiles('HERE', group = 'terrainDay') %>%
addProviderTiles("HikeBike", group = "HikeBike") %>%
addCircleMarkers(~longitude, ~latitude, color=~pal(as.factor(province)), radius=1)%>%
addLayersControl(baseGroup=c('OpenRailwayMap', "terrainDay", 'HikeBike'),
overlayGroups=unique(usa$province)) %>%
setView(lng =-85, lat = 32,
zoom = 5.5)
usa <- data %>%
filter(country=="United States")
usa <- usa %>%
group_by(province) %>%
summarise(count=n())
usa$province <- tolower(usa$province)
data.plot <- merge(s, usa,
by.x="region",
by.y="province")
ggplot(data.plot, aes(x=long, y=lat, group=group, fill=count)) +
geom_polygon(color="gray") +
coord_map("polyconic") +
scale_fill_gradient(low="white", high="blue") +
ggtitle("Geographic Composition")
ggsave("GeographicComposition.png")
usa <- data %>%
filter(country=="United States")
usa <- usa %>%
group_by(province) %>%
summarise(count=n())
usa$province <- tolower(usa$province)
data.plot <- merge(s, usa,
by.x="region",
by.y="province")
ggplot(data.plot, aes(x=long, y=lat, group=group, fill=count)) +
geom_polygon(color="gray") +
coord_map("polyconic") +
scale_fill_gradient(low="white", high="blue") +
ggtitle("Geographic Composition")
datanew <- data %>%
mutate(date_confirmation = dmy(data$date_confirmation))
head(datanew$date_confirmation)
datanew %>% group_by(date_confirmation) %>%
summarise(count=n()) %>%
mutate(cum=cumsum(count)) %>%
ggplot(aes(x=date_confirmation, y=cum)) +
geom_line(color="red")+
geom_point(size=1.5)+
geom_area(fill="pink")+
theme_bw() +
ggtitle("Cumulative Covid Cases") +
transition_reveal(cum)
anim_save("Cumulative")
